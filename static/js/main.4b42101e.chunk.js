(this["webpackJsonpdd-stats"]=this["webpackJsonpdd-stats"]||[]).push([[0],{11:function(t,e,a){t.exports=a(22)},16:function(t,e,a){},21:function(t,e,a){},22:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(7),s=a.n(r),o=(a(16),a(9)),l=a(2),c=a(3),h=a(5),u=a(4),d=a(1),m=a(6),p=a(10),b=(a(20),a(21),function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(h.a)(this,Object(u.a)(e).call(this,t))).state={eHitRate:0,pHitRate:0,eHit:!1,pHit:!1},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.eHitRate=i.a.createRef(),a.eHit=i.a.createRef(),a.pHit=i.a.createRef(),a}return Object(m.a)(e,t),Object(c.a)(e,[{key:"handleSubmit",value:function(t){t.preventDefault(),this.props.onSubmit(this.state),this.eHitRate.current.focus(),this.eHitRate.current.select(),this.pHit.current.checked=!1,this.eHit.current.checked=!1,this.setState({eHit:!1,pHit:!1})}},{key:"handleChange",value:function(t){var e=t.target,a="checkbox"===e.type?e.checked:e.value,n=e.name;this.setState(Object(o.a)({},n,a))}},{key:"render",value:function(){return i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("label",null,"\u6575\u547d\u4e2d\u7387\uff1a",i.a.createElement("input",{name:"eHitRate",type:"number",value:this.state.eHitRate,onChange:this.handleChange,tabIndex:"2",ref:this.eHitRate})),i.a.createElement("br",null),i.a.createElement("label",null,"\u5473\u547d\u4e2d\u7387\uff1a",i.a.createElement("input",{name:"pHitRate",type:"number",value:this.state.pHitRate,onChange:this.handleChange,tabIndex:"3"})),i.a.createElement("br",null),i.a.createElement("label",null,"\u6575\u547d\u4e2d\uff1a",i.a.createElement("input",{name:"eHit",type:"checkbox",value:this.state.eHit,onChange:this.handleChange,tabIndex:"4",ref:this.eHit})),i.a.createElement("br",null),i.a.createElement("label",null,"\u5473\u547d\u4e2d\uff1a",i.a.createElement("input",{name:"pHit",type:"checkbox",value:this.state.pHit,onChange:this.handleChange,tabIndex:"5",ref:this.pHit})),i.a.createElement("br",null),i.a.createElement("input",{type:"submit",value:"NEXT",tabIndex:"6"}),i.a.createElement("input",{type:"hidden",tabIndex:"7"}))}}]),e}(i.a.Component)),v=function(t){function e(t){return Object(l.a)(this,e),Object(h.a)(this,Object(u.a)(e).call(this,t))}return Object(m.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t,e;return this.props.edit?(t=i.a.createElement("input",{name:"total",type:"number",value:this.props.data[1],onChange:this.handleChange}),e=i.a.createElement("input",{name:"hit",type:"number",value:this.props.data[0],onChange:this.handleChange})):(t=this.props.data[1],e=this.props.data[0]),i.a.createElement("div",null,this.props.rate,"%:",e,"/",t," (",function(t,e){var a=function(t,e,a){a&&(e=-e);var n=(""+t).split("e");return+(n[0]+"e"+(n[1]?+n[1]+e:e))};return a(Math.round(a(t,e,!1)),e,!0)}(e/(0===t?1:t)*100,1),"%)")}}]),e}(i.a.Component),H=function(t){function e(){return Object(l.a)(this,e),Object(h.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.props.hitData.slice();this.props.hitData2&&this.props.hitData2.forEach((function(e,a){if(e)if(t[a]){var n=[t[a][0],t[a][1]];n[0]+=e[0],n[1]+=e[1],t[a]=n}else t[a]=e.slice()}));var e=t.map((function(t,e){return t?i.a.createElement("li",{key:e},i.a.createElement(v,{data:t,rate:e,edit:!1})):null})).filter(Boolean);return i.a.createElement("ul",{className:"dataList"},e)}}]),e}(i.a.Component);var f=function(t){function e(t){var a;Object(l.a)(this,e),a=Object(h.a)(this,Object(u.a)(e).call(this,t));var n,i=localStorage.getItem("ddstats");return n=i?JSON.parse(i):{pHitData:[],eHitData:[]},console.log(n),a.state={data:n,history:[],historyIndex:0},a}return Object(m.a)(e,t),Object(c.a)(e,[{key:"addDataSet",value:function(t,e){console.log(t);var a=t.pHitData.slice(),n=t.eHitData.slice();if(n[e.eHitRate]){var i=n[e.eHitRate];i[1]=i[1]+1,i[0]=i[0]+(e.eHit?1:0),n[e.eHitRate]=i}else n[e.eHitRate]=[e.eHit?1:0,1];if(a[e.pHitRate]){var r=a[e.pHitRate];r[1]=r[1]+1,r[0]=r[0]+(e.pHit?1:0),a[e.pHitRate]=r}else a[e.pHitRate]=[e.pHit?1:0,1];return{pHitData:a,eHitData:n}}},{key:"removeDataSet",value:function(t,e){var a=t.pHitData.slice(),n=t.eHitData.slice();if(n[e.eHitRate]){var i=n[e.eHitRate];i[1]=i[1]-1,i[0]=i[0]-(e.eHit?1:0),n[e.eHitRate]=i}else console.log("Something is not correct, as you are trying to undoing non-existing information");if(a[e.pHitRate]){var r=a[e.pHitRate];r[1]=r[1]-1,r[0]=r[0]-(e.pHit?1:0),a[e.pHitRate]=r}else console.log("Something is not correct, as you are trying to undoing non-existing information");return{pHitData:a,eHitData:n}}},{key:"handleInputSubmit",value:function(t){var e=this.state.history.slice(0,this.state.historyIndex),a=this.state.data,n=this.addDataSet(a,t);localStorage.setItem("ddstats",JSON.stringify(n)),this.setState({data:n,history:e.concat(t),historyIndex:e.length+1})}},{key:"onUndoClicked",value:function(){var t=this.state.history[this.state.historyIndex-1],e=this.state.data,a=this.removeDataSet(e,t);localStorage.setItem("ddstats",JSON.stringify(a)),this.setState({data:a,historyIndex:this.state.historyIndex-1})}},{key:"onRedoClicked",value:function(){var t=this.state.history[this.state.historyIndex],e=this.state.data,a=this.addDataSet(e,t);localStorage.setItem("ddstats",JSON.stringify(a)),this.setState({data:a,historyIndex:this.state.historyIndex+1})}},{key:"onResetClicked",value:function(){Object(p.confirmAlert)({title:"\u672c\u5f53\u306b\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059\u304b\uff1f",message:"\u4fdd\u5b58\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3082\u524a\u9664\u3055\u308c\u308b\u305f\u3081\u3001\u30c7\u30fc\u30bf\u30ea\u30bb\u30c3\u30c8\u3059\u308b\u3068\u53d6\u308a\u6d88\u3057\u304c\u3067\u304d\u307e\u305b\u3093\u3002",buttons:[{label:"\u30ea\u30bb\u30c3\u30c8\u3059\u308b",onClick:function(){localStorage.removeItem("ddstats"),window.location.reload()}},{label:"\u30ea\u30bb\u30c3\u30c8\u3057\u306a\u3044"}]})}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"rootcontainer"},i.a.createElement("div",null,i.a.createElement(b,{onSubmit:function(e){return t.handleInputSubmit(e)}}),i.a.createElement("div",null,i.a.createElement("button",{tabIndex:"-1",disabled:0===this.state.historyIndex,onClick:function(){return t.onUndoClicked()}},"\u53d6\u308a\u6d88\u3057"),i.a.createElement("button",{tabIndex:"-1",disabled:this.state.historyIndex===this.state.history.length,onClick:function(){return t.onRedoClicked()}},"\u3084\u308a\u76f4\u3059"),i.a.createElement("button",{tabIndex:"-1",onClick:function(){return t.onResetClicked()}},"\u30c7\u30fc\u30bf\u30ea\u30bb\u30c3\u30c8"))),i.a.createElement("div",{className:"data"},i.a.createElement("div",{className:"dataContainer"},"\u5473\u65b9\u547d\u4e2d\u7d71\u8a08",i.a.createElement(H,{hitData:this.state.data.pHitData})),i.a.createElement("div",{className:"dataContainer"},"\u6575\u5074\u547d\u4e2d\u7d71\u8a08",i.a.createElement(H,{hitData:this.state.data.eHitData})),i.a.createElement("div",{className:"dataContainer"},"\u5408\u8a08\u547d\u4e2d\u7d71\u8a08",i.a.createElement(H,{hitData:this.state.data.pHitData,hitData2:this.state.data.eHitData}))))}}]),e}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.4b42101e.chunk.js.map